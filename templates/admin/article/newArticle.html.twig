{% extends 'base.html.twig' %}

{% block section %}

		
		
        <div class="col-xl-10 col-lg-10 col-md-9 col-sm-12">
		<section class="container-fluid" >			
        	<div class="row justifiy-content-center">
			<div class="col-xl-10 col-lg-10 col-md-12 col-sm-12">
			<h1 class="font-weight-bold font-italic text-center">Gestion des articles du site</h1>
			<aside class="container-fluid " >
				<!-- mettre un formulaire de modification ici en selectionnant l'id souhaité et les modification souhaitée -->
				<div class="row justify-content-center">
					<div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-5">
						{{ form_start(formulaireArticle,{'attr':{'novalidate':'novalidate','role':'form'}})}}
						<div class="form-row my-2 mx-0">
							<div class="form-group col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 px-0">
								<div class="row mx-0">
							        {{ form_widget(formulaireArticle.titre) }}
							    </div>
							</div>
							<div class="form-group col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 px-0">
								<div class="row mx-0">
							        {{ form_widget(formulaireArticle.sousTitre) }}
							    </div>
							</div>
							<div class="form-group col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 px-0">
								<div class="row mx-0">
						            {{ form_widget(formulaireArticle.description) }}
						    	</div>
							</div>
							<div class="form-group col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 px-0">
								<div class="row mx-0">
						            {{ form_widget(formulaireArticle.image) }}
						        </div>
						    </div>
						</div>
												
						<button class='btn btn-primary col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mr-2 mb-1' type="submit">Valider</button>
							
						
						{{ form_end(formulaireArticle) }}
					</div>
					
				</div>
			</aside>	
			<aside class="container-fluid">
				<div class="row">
					<div class="col table-responsive">
						<table class="table table-secondary table-striped table-bordered table-hover table-sm">
							<thead>
								<tr>
									<th>Id_Event</th>
									<th>titre</th>	
									<th>Sous-titre</th>								
									<th>Description</th>
									<th>Image</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
							
							{% for article in tableauObjetArticle %}
								
								
								<tr>
									<td>{{article.id }}</td>
									<td>{{article.titre }}</td>
									<td>{{article.sousTitre }}</td>
									<td>{{article.description}}</td>
									<td>{% if article.imgArticle()%}
										<img class="img-fluid rounded" src='{{ absolute_url(asset('img/article/' ~ article.imgArticle)) }}' alt='{{ article.titre }}'/>
										{% endif %}
									</td>		
									<td>
									<a href={{path('edit_article',{id: article.id})}} id="lienMenuAccueil">Editer</a>
									|
									<a href={{path('delete_article',{id: article.id})}} id="lienMenuAccueil" onclick="return confirm ('Etes-vous sûr de vouloir supprimer cet article?')">Supprimer</a>
									</td>															
								</tr>
							{% endfor %}
								
							</tbody>
						</table>
					</div>
				</div>
			</aside>
			
			</div>
			<div class="col-xl-2 col-lg-2 col-md-12 col-sm-12">
			</div>
		</div>
		</section>
		</div>
		
{% endblock %}




